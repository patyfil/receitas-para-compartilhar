{% extends 'base.html' %}
{% load static %}
{% block title %}Cadastrar receita{% endblock %}
{% block content %}

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{% static './css/style.css' %}" />
</head>

<main>
    <div class="titulo">
        <h1>Cadastrar receita</h1>
    </div>

    {% if messages %}
    {% for message in messages %}
    <div class="alert {{ message.tags }}">
        {{ message|safe }}
    </div>
    {% endfor %}
    {{ messages.clear }}
    {% endif %}

    <form class="form-cadastro" action="{% url 'receitas:createReceita' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <label class="label-input text-categoria" for="categoria">Categoria:</label>
        <select id="categoria" name="categoria" required>
            <option value="" disabled selected>Selecionar</option>
            <option value="Sobremesas">Sobremesas</option>
            <option value="Sopas">Sopas</option>
            <option value="Grelhados">Grelhados</option>
            <option value="Aperitivos">Aperitivos</option>
            <option value="Massas">Massas</option>
            <option value="Saladas">Saladas</option>
        </select>

        <div class="file-upload">
            <button class="btn-terc" type="button" onclick="$('.file-upload-input').trigger( 'click' )">Pesquisar
                Imagem</button>
            <div class="image-upload-wrap">
                <input name="imagem" class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*"
                    required />
                <div class="drag-text">
                    <h3>Clique ou arraste o arquivo</h3>
                </div>
            </div>
            <div class="file-upload-content">
                <img class="file-upload-image" src="#" alt="your image" />
                <div class="image-title-wrap">
                    <button type="button" onclick="removeUpload()" class="remove-image">Remover <span
                            class="image-title">Uploaded Imagem</span></button>
                </div>
            </div>
        </div>

        <label class="label-input" for="titulo">Título da Receita:</label>
        <input class="form-input" type="text" id="titulo" name="titulo" required><br><br>

        <label class="label-input" for="subtitulo">Subtítulo (Breve descrição):</label>
        <input class="form-input" type="text" id="subtitulo" name="subtitulo" required><br><br>

        <label class="label-input" for="ingredientes">Ingredientes:</label>
        <textarea id="ingredientes" name="ingredientes" rows="4" required></textarea><br><br>

        <label class="label-input" for="modo_preparo">Modo de Preparo:</label>
        <textarea id="modo_preparo" name="modo_preparo" rows="4" required></textarea><br><br>

        <div>
            <button type="submit" class="btn-primary ">
                <span class="transition"></span>
                <span class="gradient"></span>
                <span class="label">Cadastrar</span>
            </button>
        </div>
    </form>
</main>
{% endblock %}